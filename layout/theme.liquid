<!doctype html>
<html lang="{{ shop.locale.iso_code }}" class="no-js">
  <head>
    {% render 'meta-tags' %}

    {{ settings.custom_head }}

    {% assign default_favicon = 'favicon.png' | asset_img_url %}

    <link
      rel="icon"
      type="image/png"
      media="(prefers-color-scheme: light)"
      href="{{ settings.favicon_dark | image_url: width: 64, crop: false | default: default_favicon }}"
    >

    <link
      rel="icon"
      type="image/png"
      media="(prefers-color-scheme: dark)"
      href="{{ settings.favicon_light | image_url: width: 64, crop: false | default: default_favicon }}"
    >

    {%- liquid
      render 'vite' with 'theme.css', preload_stylesheet: true
      render 'vite' with 'theme.ts'
    -%}

    <script>
      document.documentElement.classList.remove('no-js')
    </script>

    {{ content_for_header }}
  </head>

  <body data-barba="wrapper" x-cloak class="grid min-h-screen grid-rows-[auto_1fr] overflow-x-clip">
    <div id="page">
      {% render 'skip-to-content-link' %}

      <section
        x-data="{ translated: false }"
        @announcement-bar:visible.window="value => translated = !value.detail"
        class="sticky top-0 z-10 w-screen transition-transform"
        :class="translated ? '-translate-y-(--announcement-bar-height)' : ''"
      >
        {% sections 'header-group' %}
      </section>

      {% render 'cart-notification' %}

      <main
        data-barba="container"
        role="main"
        class="grid min-h-[calc(100vh-var(--header-height)-var(--announcement-bar-height))] grid-rows-[1fr_auto] bg-white"
      >
        <div id="content" class="contents">
          <div>
            {{ content_for_layout }}
          </div>

          {% sections 'footer-group' %}
        </div>
      </main>
    </div>
  </body>
</html>
