{% doc %}
  Outputs a product card. Requires that the `closest.product` is set to the product to render.

  @example
  {% content_for 'block', type: '_product-card', id: 'pc', closest.product: product %}
{% enddoc %}

{% assign product = closest.product %}

<div>
  <a class="grid gap-3" href="{{ product.url }}" data-transition="slide-right">
    {% if product.selected_or_first_available_variant.featured_image != blank %}
      {% render 'image', image: product.selected_or_first_available_variant.featured_image, sizes: '50vw, 20vw' %}
    {% else %}
      {% render 'image', image: product.featured_image, sizes: '50vw, 20vw' %}
    {% endif %}

    <span>{{ product.title }}</span>
  </a>

  <div class="mt-2 flex flex-col justify-between gap-3">
    <div>
      {% content_for 'block', type: '_product-price', id: 'price', closest.product: product %}
    </div>

    {% content_for 'block', type: '_quick-buy', id: 'quick_buy', closest.product: product %}
  </div>
</div>

{% schema %}
{
  "name": "Product card",
  "presets": [
    {
      "name": "Product card"
    }
  ]
}
{% endschema %}
