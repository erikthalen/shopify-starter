{% doc %}
  Used to output a color scheme as inline css variables.
  Loops through all/any colors defined in the supplied scheme.

  @param {object} [color_scheme] - The color_scheme to output, defaults to `section.settings.color_scheme`

  @example
  <div style="{% render 'color-scheme' %}">...</div>

  <div style="{% render 'color-scheme', color_scheme: block.settings.my_scheme %}"></div>
{% enddoc %}

{%- assign scheme = color_scheme | default: section.settings.color_scheme | default: block.settings.color_scheme -%}
{%- assign colors = scheme.settings | remove_first: '{' | remove_last: '}' | split: ', ' -%}

{%- for color in colors -%}
  {%- assign key_value = color | split: '=>' -%}

  {%- comment -%} When a color isn't set, it's outputted as "rgba(0,0,0,0)" {%- endcomment -%}
  {%- if key_value[1] != '"rgba(0,0,0,0)"' -%}
    {%- assign color_name = key_value[0] | remove: '"' | handleize -%}
    {%- assign color_value = key_value[1] | remove: '"' -%}

    --scheme-{{ color_name }}:{{ color_value }};
  {%- endif -%}
{%- endfor -%}
